<template name="cropUploader">
	{{>UI.dynamic template=cropUploaderTemplate}}
</template>

<template name="cropUploaderPlain">
	{{#if currentUser}}
		<input type="file" class="crop-uploader-file">
		{{#if allowURL}}<input type="url" class="crop-uploader-url" placeholder="Enter URL to image">{{/if}}
		{{#unless hideUpload}}
		<button class="crop-uploader-upload">Upload</button>
		{{else}}
		<button class="crop-uploader-upload hidden">Upload</button>
		{{/unless}}
	{{/if}}
	<img id="{{thumbnailID}}" class="hidden">
</template>

<template name="cropUploaderBootstrap">
	{{#if currentUser}}
	<form class="form-inline">
		<span class="btn btn-file btn-success">Select Image to Upload<input type="file" class="crop-uploader-file"></span>
		{{#if allowURL}} OR <input type="url" class="form-field crop-uploader-url" placeholder="Enter URL to image">{{/if}}
		{{#unless hideUpload}}
		<button class="btn btn-danger crop-uploader-upload">Upload</button>
		{{else}}
		<button class="btn btn-danger crop-uploader-upload hidden">Upload</button>
		{{/unless}}
	</form>
	{{/if}}
	<img id="{{thumbnailID}}" class="hidden">
</template>

<template name="cropUploaderImages">
	  <div class="images" id="images">
		  {{#each images}}
		  	<div class="thumbnail">
		  		{{#if derivatives.thumbnail}}
			  	<img src="{{derivatives.thumbnail}}" id="{{_id}}">
		  		{{else}}
		  		<img src="{{url}}" width="100" height="100" id="{{_id}}">
		  		{{/if}}
			  	<h6 class="id">{{_id}}</h6>
		  	</div>
		  {{/each}}
		  <div class="preview thumbnail">
			  <canvas id="thumbnail_canvas"></canvas>
			  <h6 class="id">Preview</h6>
		  </div>
	  </div>
</template>

<template name="cropUploaderCropper">
	{{#if loading}} <img id="crop-image-loading" src="{{loading}}">{{/if}}
	<div class="image-container">
		<img id="crop-image" width=100% src="{{url}}">
	</div>
	<div class="img-preview"></div>
</template>
